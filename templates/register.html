{% extends "_layout.html" %} {% block title %}Register{% endblock %} {% block
content %}
<link
  rel="stylesheet"
  href="{{ url_for('static', filename='css/login-register.css') }}"
/>

<div class="body">
  <div class="row justify-content-center">
    <div class="col-md-6">
      <div class="card">
        <div class="card-body">
          <h2 class="card-title text-center mb-4">Register</h2>
          <form action="{{ url_for('register') }}" method="POST">
            <!-- Shared Password Field -->
            <div class="form-group">
              <label for="password">Password:</label>
              <input
                type="password"
                class="form-control"
                name="password"
                required
              />
            </div>

            <!-- Role Selection -->
            <div class="form-group">
              <label for="role">Register as:</label>
              <div class="slider-container">
                <input
                  type="radio"
                  id="user"
                  name="role"
                  value="User"
                  checked
                />
                <label for="user" class="role-label">User</label>

                <input
                  type="radio"
                  id="studio"
                  name="role"
                  value="Movie Studio"
                />
                <label for="studio" class="role-label">Movie Studio</label>
              </div>
            </div>

            <!-- Fields for Users -->
            <div id="user-fields">
              <div class="form-group">
                <label for="first_name">First Name:</label>
                <input type="text" class="form-control" name="first_name" />
              </div>
              <div class="form-group">
                <label for="last_name">Last Name:</label>
                <input type="text" class="form-control" name="last_name" />
              </div>
              <div class="form-group">
                <label for="username">Username:</label>
                <input type="text" class="form-control" name="username" />
              </div>
            </div>

            <!-- Fields for Movie Studios -->
            <div id="studio-fields" style="display: none">
              <div class="form-group">
                <label for="studio_name">Studio Name:</label>
                <input type="text" class="form-control" name="studio_name" />
              </div>
            </div>

            <button type="submit" class="btn btn-primary btn-block">
              Register
            </button>
          </form>
          <p class="text-center mt-3">
            Already have an account?
            <a href="{{ url_for('login_page') }}">Login here</a>
          </p>
        </div>
      </div>
    </div>
  </div>
</div>

<script>
  // Dynamically show/hide fields based on role selection
  const userRadio = document.getElementById("user");
  const studioRadio = document.getElementById("studio");
  const userFields = document.getElementById("user-fields");
  const studioFields = document.getElementById("studio-fields");

  userRadio.addEventListener("change", () => {
    userFields.style.display = "block";
    studioFields.style.display = "none";
  });

  studioRadio.addEventListener("change", () => {
    userFields.style.display = "none";
    studioFields.style.display = "block";
  });
</script>
{% endblock %}
